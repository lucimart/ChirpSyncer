# ChirpSyncer Environment Configuration
# Copy this file to .env and fill in your actual credentials

# ============================================================================
# Twitter Credentials (for twscrape scraping)
# ============================================================================
# You need your actual Twitter account credentials for twscrape to work.
# twscrape uses account credentials to scrape Twitter data without API limits.
#
# IMPORTANT NOTES:
# - Use a dedicated Twitter account (recommended for security)
# - Enable 2FA on your account for better security
# - Keep these credentials secure and never commit them to version control
#
# Required credentials:
# - TWITTER_USERNAME: Your Twitter username (without @)
# - TWITTER_PASSWORD: Your Twitter account password
# - TWITTER_EMAIL: Email associated with your Twitter account
# - TWITTER_EMAIL_PASSWORD: Password for your email account (for verification)
#
# First-time setup:
# After setting these credentials, you'll need to run a one-time account setup.
# See the "Migration Guide" section in README.md for detailed instructions.

TWITTER_USERNAME=your_twitter_username
TWITTER_PASSWORD=your_twitter_password
TWITTER_EMAIL=your_twitter_email@example.com
TWITTER_EMAIL_PASSWORD=your_email_password

# ============================================================================
# DEPRECATED: Twitter API Credentials (OAuth 1.0a)
# ============================================================================
# These credentials are deprecated and will be removed in a future version.
# Please migrate to the twscrape credentials above.
#
# If you're still using the old Twitter API, you can keep these for now,
# but they won't be validated anymore.

# TWITTER_API_KEY=your-twitter-api-key-here
# TWITTER_API_SECRET=your-twitter-api-secret-here
# TWITTER_ACCESS_TOKEN=your-twitter-access-token-here
# TWITTER_ACCESS_SECRET=your-twitter-access-secret-here

# ============================================================================
# Bluesky Credentials (AT Protocol)
# ============================================================================
# Username: Your full Bluesky handle (e.g., username.bsky.social)
# Password: Use an app-specific password, NOT your main account password
#
# To create an app password:
# 1. Log in to Bluesky
# 2. Go to Settings > App Passwords
# 3. Create a new app password for ChirpSyncer
#
# Using an app password is more secure and can be revoked independently

BSKY_USERNAME=your-username.bsky.social
BSKY_PASSWORD=your-bluesky-app-password-here

# ============================================================================
# Sprint 6: Multi-User Support Configuration
# ============================================================================

# Enable multi-user mode (default: false for backward compatibility)
# Set to 'true' to enable multi-user synchronization with web dashboard
# In single-user mode (false), credentials are read from .env as before
# In multi-user mode (true), credentials are stored encrypted in database
MULTI_USER_ENABLED=false

# Master encryption key for credential storage (REQUIRED for multi-user mode)
# This key is used to encrypt/decrypt user credentials in the database
# IMPORTANT:
# - Generate a strong random string (32+ characters recommended)
# - Keep this secret and never commit to version control
# - If you lose this key, all encrypted credentials will be unrecoverable
# - Use: python -c "import secrets; print(secrets.token_urlsafe(32))"
SECRET_KEY=your-secret-key-here-generate-with-secrets-module

# Admin user configuration (for first-time multi-user setup)
# When multi-user mode is enabled and no users exist, an admin user is created
# If ADMIN_PASSWORD is not set, a random password will be generated and shown in logs
ADMIN_EMAIL=admin@chirpsyncer.local
ADMIN_PASSWORD=your-strong-admin-password-here

# ============================================================================
# Sprint 7: Email Notifications (SMTP Configuration)
# ============================================================================
# See docs/EMAIL_SETUP.md for detailed setup instructions
#
# DEVELOPMENT: Uses Mailpit (automatic via docker-compose.dev.yml)
#   - No configuration needed, just run `make dev`
#   - View emails at http://localhost:8025
#
# PRODUCTION: Uses Resend (recommended, 3000 emails/month free)
#   - Sign up at https://resend.com
#   - Add and verify your domain
#   - Get API key from dashboard
# ============================================================================

# Enable/disable email notifications
SMTP_ENABLED=false

# ---- PRODUCTION: Resend Configuration ----
# Uncomment and configure for production with your domain
SMTP_HOST=smtp.resend.com
SMTP_PORT=587
SMTP_USER=resend
SMTP_PASSWORD=re_YOUR_API_KEY_HERE
SMTP_FROM=notifications@yourdomain.com

# ---- ALTERNATIVE: Gmail Configuration ----
# Requires App Password (2FA must be enabled)
# SMTP_HOST=smtp.gmail.com
# SMTP_PORT=587
# SMTP_USER=your-email@gmail.com
# SMTP_PASSWORD=xxxx-xxxx-xxxx-xxxx
# SMTP_FROM=your-email@gmail.com

# ============================================================================
# Sprint Infra: Redis & Celery
# ============================================================================
REDIS_HOST=localhost
REDIS_PORT=6379
CELERY_BROKER_URL=redis://localhost:6379/0
CELERY_RESULT_BACKEND=redis://localhost:6379/1

# ============================================================================
# Optional Configuration
# ============================================================================

# Database path (default: chirpsyncer.db in current directory)
# DATABASE_PATH=/opt/chirpsyncer/chirpsyncer.db

# Flask server configuration
# FLASK_HOST=0.0.0.0
# FLASK_PORT=5000

# Logging
# LOG_LEVEL=INFO
# LOG_FILE=logs/chirpsyncer.log

# ============================================================================
# SSO / OAuth Configuration
# ============================================================================
# Configure OAuth providers for social login (Google, GitHub, Twitter/X)
# Leave empty to disable a provider

# Google OAuth 2.0
# Get credentials at: https://console.cloud.google.com/apis/credentials
# Set authorized redirect URI to: http://localhost:5000/api/v1/auth/sso/google/callback
GOOGLE_CLIENT_ID=
GOOGLE_CLIENT_SECRET=

# GitHub OAuth
# Get credentials at: https://github.com/settings/developers
# Set authorization callback URL to: http://localhost:5000/api/v1/auth/sso/github/callback
GITHUB_CLIENT_ID=
GITHUB_CLIENT_SECRET=

# Twitter/X OAuth 2.0
# Get credentials at: https://developer.twitter.com/en/portal/dashboard
# Set callback URL to: http://localhost:5000/api/v1/auth/sso/twitter/callback
TWITTER_CLIENT_ID=
TWITTER_CLIENT_SECRET=

# OAuth Redirect Base URL (backend URL)
OAUTH_REDIRECT_BASE=http://localhost:5000

# Frontend URL (for OAuth callback redirects)
FRONTEND_URL=http://localhost:3000
